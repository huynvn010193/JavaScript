<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Tim Hieu Promise</title>
	
</head>
<body>
	<h3>Demo Promise</h3>
	<button>Click Me!</button>

	<script>
		function startClick() {
			var count = 0;
			const button = document.querySelector('button');
			button.addEventListener('click', () => {
				count += 1;
			});

			return new Promise ((resolve,reject) => {
				setTimeout(() => {
					if(count  > 5) {
						resolve();
					} else {
						reject('found error: not click more than 5 times');
					}
				},2000);

			});
		}

		startClick().then(() => alert('you click more then 5 times'))
								.catch((err) => alert(err));
	</script>

</body>
</html>